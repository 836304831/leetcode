# -*- coding: utf-8 -*-
# ----------------------------
# @Time    : 2021/5/16 10:18 上午
# @Author  : changqingai
# @FileName: 39_majority_element.py
# ----------------------------


class Solution:
    def majorityElement(self, nums):
        # 	52 ms	16.1 MB
        value, count = nums[0], 1
        for i in range(1, len(nums)):
            if nums[i] == value:
                count += 1
            else:
                count -= 1
                if count == 0:
                    value = nums[i]
                    count = 1
        return value

    def majorityElement1(self, nums):
        # 超时
        index = self._partition(nums, 0, len(nums) - 1)
        right_pos = (len(nums) - 1) // 2
        while index != right_pos:
            if index > right_pos:
                index = self._partition(nums, 0, index - 1)
            else:
                index = self._partition(nums, index + 1, len(nums) - 1)
        return nums[index]

    def _partition(self, nums, begin, end):
        key = nums[begin]
        while begin < end:
            while begin < end and nums[end] >= key:
                end -= 1
            nums[begin] = nums[end]
            while begin < end and nums[begin] <= key:
                begin += 1
            nums[end] = nums[begin]
        nums[begin] = key
        return begin


if __name__ == "__main__":
    nums = [1, 2, 3, 2, 2, 2, 5, 4, 2]
    # nums = [345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543,345,543]
    result = Solution().majorityElement(nums)
    print('result, ', result)
